<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.webapp.dao.TestsDao">

	<!-- testreceptionid로 testdate와 testdataid 불러옴 -->
  	<select id="selectbyTestReceptionid" resultType="test">
  		select t.testdataid, patientid, userid, reservationid, testreceptionid, result, status,
				testdataname, testcontainer, testtype, groupcode, groupname, testunit, min, max
		from tests t, testsdatas td 
		where t.testreceptionid = #{testreceptionid} AND t.testdataid = td.testdataid
  	</select>
	
	<insert id="testInsert" parameterType="test">
		insert into tests 
		(testdataid, treatmentid, patientid, userid, reservationid, testreceptionid, result, status)
		values
		(#{testdataid},#{treatmentid},#{patientid},#{userid},#{reservationid}, null, #{result},#{status})
	</insert>
	
	<!-- <select id="selectAll" resultType="test">
		select t.testdataid, patientid, userid, reservationid, testreceptionid, result, status,
				testdataid, testdataname, testcontainer, testtype, groupcode, groupname, testunit, min, max
		from tests t, testdatas td 
		where t.testdataid = td.testdataid
	</select>

	<select id="selectbyTestpatient" resultType="test">
  		select t.testdataid, patientid, userid, reservationid, testreceptionid, result, status,
				testdataid, testdataname, testcontainer, testtype, groupcode, groupname, testunit, min, max
		from tests t, testdatas td 
		where t.testdataid = td.testdataid
  	</select> -->
	
</mapper>